import{S as o,y as F,z as K,A as _,B as M,k as T,U as l,C as g,D as P,F as q,G as B,H as C,I as H,b as U,h as E,J as Y,E as z,K as G,L as J,M as Q,N as A,O as D,a as S,P as k,c as Z,Q as V,R as W,i as X,T as $}from"./CJfivAtN.js";function w(r,d=null,h){if(typeof r!="object"||r===null||o in r)return r;const c=C(r);if(c!==F&&c!==K)return r;var i=new Map,a=H(r),y=_(0);a&&i.set("length",_(r.length));var b;return new Proxy(r,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&B();var n=i.get(e);return n===void 0?(n=_(t.value),i.set(e,n)):g(n,w(t.value,b)),!0},deleteProperty(s,e){var t=i.get(e);if(t===void 0)e in s&&i.set(e,_(l));else{if(a&&typeof e=="string"){var n=i.get("length"),f=Number(e);Number.isInteger(f)&&f<n.v&&g(n,f)}g(t,l),j(y)}return!0},get(s,e,t){var v;if(e===o)return r;var n=i.get(e),f=e in s;if(n===void 0&&(!f||(v=P(s,e))!=null&&v.writable)&&(n=_(w(f?s[e]:l,b)),i.set(e,n)),n!==void 0){var u=T(n);return u===l?void 0:u}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var n=i.get(e);n&&(t.value=T(n))}else if(t===void 0){var f=i.get(e),u=f==null?void 0:f.v;if(f!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(s,e){var u;if(e===o)return!0;var t=i.get(e),n=t!==void 0&&t.v!==l||Reflect.has(s,e);if(t!==void 0||q!==null&&(!n||(u=P(s,e))!=null&&u.writable)){t===void 0&&(t=_(n?w(s[e],b):l),i.set(e,t));var f=T(t);if(f===l)return!1}return n},set(s,e,t,n){var O;var f=i.get(e),u=e in s;if(a&&e==="length")for(var v=t;v<f.v;v+=1){var N=i.get(v+"");N!==void 0?g(N,l):v in s&&(N=_(l),i.set(v+"",N))}f===void 0?(!u||(O=P(s,e))!=null&&O.writable)&&(f=_(void 0),g(f,w(t,b)),i.set(e,f)):(u=f.v!==l,g(f,w(t,b)));var R=Reflect.getOwnPropertyDescriptor(s,e);if(R!=null&&R.set&&R.set.call(n,t),!u){if(a&&typeof e=="string"){var I=i.get("length"),x=Number(e);Number.isInteger(x)&&x>=I.v&&g(I,x+1)}j(y)}return!0},ownKeys(s){T(y);var e=Reflect.ownKeys(s).filter(f=>{var u=i.get(f);return u===void 0||u.v!==l});for(var[t,n]of i)n.v!==l&&!(t in s)&&e.push(t);return e},setPrototypeOf(){M()}})}function j(r,d=1){g(r,r.v+d)}function m(r){return r!==null&&typeof r=="object"&&o in r?r[o]:r}function ee(r,d){return Object.is(m(r),m(d))}function te(r,d,h=!1){E&&Y();var c=r,i=null,a=null,y=l,b=h?z:0,s=!1;const e=(n,f=!0)=>{s=!0,t(f,n)},t=(n,f)=>{if(y===(y=n))return;let u=!1;if(E){const v=c.data===G;!!y===v&&(c=J(),Q(c),A(!1),u=!0)}y?(i?D(i):f&&(i=S(()=>f(c))),a&&k(a,()=>{a=null})):(a?D(a):f&&(a=S(()=>f(c))),i&&k(i,()=>{i=null})),u&&A(!0)};U(()=>{s=!1,d(e),s||t(null,null)},b),E&&(c=Z)}function L(r,d){return r===d||(r==null?void 0:r[o])===d}function re(r={},d,h,c){return V(()=>{var i,a;return W(()=>{i=a,a=[],X(()=>{r!==h(...a)&&(d(r,...a),i&&L(h(...i),r)&&d(null,...i))})}),()=>{$(()=>{a&&L(h(...a),r)&&d(null,...a)})}}),r}export{ee as a,re as b,te as i,w as p};
